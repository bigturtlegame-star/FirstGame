<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Guess the Number Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Arial, sans-serif; background: #f2f2f2; text-align: center; margin-top: 40px; }
    #game-container { background: #fff; border-radius: 8px; padding: 24px; box-shadow: 0 4px 20px #ddd; max-width: 330px; margin: auto; }
    input[type="number"] { width: 60px; padding: 8px; font-size: 1.2em; margin: 12px; }
    button { padding: 10px 20px; font-size: 1em; border-radius: 4px; border: none; background: #2b8be6; color: #fff; cursor: pointer; }
    button:active { background: #156aae; }
    .message { font-weight: bold; margin-top: 16px; }
    #bestRecord { margin-bottom:12px; color:#077;}
    ul { text-align:left; max-width:300px; margin:auto; }
    .example { text-align:left; max-width:300px; margin:auto; }
    @media (max-width: 400px) {
      #game-container { padding: 12px; }
      input[type="number"], button { font-size: 1em; }
    }
  </style>
</head>
<body>
<div id="instructions" style="margin-bottom:20px;">
  <h3>How to Play:</h3>
  <ul>
    <li>Guess my age between <b>1</b> and <b>100</b>.</li>
    <li>Enter your guess in the box and hit <b>Guess</b> or press <b>Enter</b>.</li>
    <li>Iâ€™ll tell you if your guess is too high or too low.</li>
    <li>Keep guessing until you find the correct number!</li>
    <li>Try to guess in the fewest attempts possible.</li>
    <li>Hit <b>Restart Game</b> anytime for a new challenge.</li>
  </ul>
  <b>Example:</b>
  <div class="example">
    <p>You enter <b>50</b> âž” "Too low! Try again!"<br>
       You enter <b>75</b> âž” "Too high! Try again!"<br>
       You enter <b>63</b> âž” "Correct! You guessed in X tries."</p>
  </div>
</div>
<div id="game-container">
  <h2>Guess the Number (1-100)</h2>
  <div id="bestRecord">
    Best record: <span id="bestScore">--</span> attempts
  </div>
  <input type="number" id="guessInput" min="1" max="100" />
  <button onclick="checkGuess()">Guess</button>
  <div class="message" id="message"></div>
  <button style="margin-top:18px;" onclick="restartGame()">Restart Game</button>
</div>
<script>
  let secret = Math.floor(Math.random() * 100) + 1;
  let attempts = 0;

  // Retrieve the player's best record from localStorage and display it
  let bestScore = localStorage.getItem('bestScore');
  document.getElementById('bestScore').textContent = bestScore ? bestScore : '--';

  // Allow pressing "Enter" to trigger guess
  document.getElementById('guessInput').addEventListener('keydown', function(event) {
    if(event.key === 'Enter') {
      checkGuess();
    }
  });

  function checkGuess() {
    const input = document.getElementById('guessInput');
    const msg = document.getElementById('message');
    let guess = Number(input.value);

    if (!guess || guess < 1 || guess > 100) {
      msg.textContent = "Enter a number between 1 and 100";
      return;
    }

    attempts++;
    if (guess === secret) {
      msg.textContent = `ðŸŽ‰ Correct! You guessed in ${attempts} tries.`;
      input.disabled = true;

      // Update best record if attempts is less than previous or if no previous exists
      if (!bestScore || attempts < Number(bestScore)) {
        localStorage.setItem('bestScore', attempts);
        bestScore = attempts;
        document.getElementById('bestScore').textContent = bestScore;
        msg.textContent += " (New best record!)";
      }
    } else if (guess < secret) {
      msg.textContent = "Too low! Try again!";
    } else {
      msg.textContent = "Too high! Try again!";
    }
    input.value = '';
    input.focus();
  }

  function restartGame() {
    secret = Math.floor(Math.random() * 100) + 1;
    attempts = 0;
    const input = document.getElementById('guessInput');
    input.disabled = false;
    document.getElementById('message').textContent = '';
    input.value = '';
    input.focus();
    // Refresh best score display from localStorage on restart
    bestScore = localStorage.getItem('bestScore');
    document.getElementById('bestScore').textContent = bestScore ? bestScore : '--';
  }
</script>
</body>
</html>
